<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- SEO Meta Tags -->
  <title>Mann Scanning Centre | NABH Accredited Diagnostic Imaging Center | Jalandhar, Punjab</title>
  <meta name="description" content="Leading NABH-accredited diagnostic imaging center in Jalandhar offering advanced MRI, CT, 4D Ultrasound, Mammography, DEXA scans with expert radiologists. Book appointments online for comprehensive medical imaging services." />
  <meta name="keywords" content="Mann Scanning Centre, diagnostic imaging Jalandhar, MRI scan Punjab, CT scan Jalandhar, 4D ultrasound, mammography screening, DEXA bone scan, NABH accredited hospital, radiologist Jalandhar, medical imaging center, ultrasound fellowship, diagnostic center Punjab, Dr Harkaran Singh Mann" />
  <meta name="author" content="Mann Scanning Centre" />
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="googlebot" content="index, follow" />
  <meta name="bingbot" content="index, follow" />
  
  <!-- Enhanced Local SEO -->
  <meta name="geo.region" content="IN-PB" />
  <meta name="geo.placename" content="Jalandhar, Punjab, India" />
  <meta name="geo.position" content="31.3260;75.5762" />
  <meta name="ICBM" content="31.3260, 75.5762" />
  <meta name="language" content="English" />
  <meta name="distribution" content="global" />
  <meta name="rating" content="general" />
  <meta name="revisit-after" content="7 days" />
  <meta name="classification" content="Medical, Healthcare, Diagnostic Imaging" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://mannscan.in/" />
  <meta property="og:title" content="Mann Scanning Centre - NABH Accredited Diagnostic Imaging Center Jalandhar" />
  <meta property="og:description" content="Leading diagnostic imaging facility in Jalandhar with advanced MRI, CT, 4D Ultrasound, Mammography services. NABH-accredited with expert radiologists and state-of-the-art equipment." />
  <meta property="og:image" content="https://mannscan.in/images/glass%203d%20logo%20mannscan%20no%20bg.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Mann Scanning Centre Logo - Advanced Diagnostic Imaging" />
  <meta property="og:site_name" content="Mann Scanning Centre" />
  <meta property="og:locale" content="en_IN" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://mannscan.in/" />
  <meta property="twitter:title" content="Mann Scanning Centre - Advanced Diagnostic Imaging Jalandhar" />
  <meta property="twitter:description" content="NABH-accredited diagnostic center offering advanced MRI, CT, 4D Ultrasound, and Mammography services in Jalandhar, Punjab with expert radiologists." />
  <meta property="twitter:image" content="https://mannscan.in/images/glass%203d%20logo%20mannscan%20no%20bg.png" />
  <meta property="twitter:image:alt" content="Mann Scanning Centre - Diagnostic Imaging Center" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://mannscan.in/" />
  
  <!-- Favicon and Icons -->
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="images/glass%203d%20logo%20mannscan%20no%20bg.png" />
  
  <!-- Structured Data for Local Business -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MedicalBusiness",
    "name": "Mann Scanning Centre",
    "description": "Advanced diagnostic imaging center with comprehensive fellowship programs",
    "url": "https://mannscan.in",
    "logo": "https://mannscan.in/images/glass%203d%20logo%20mannscan%20no%20bg.png",
    "image": "https://mannscan.in/images/glass%203d%20logo%20mannscan%20no%20bg.png",
    "telephone": "+91-181-4695500",
    "email": "drhsmann@gmail.com",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "201 Gujral Nagar",
      "addressLocality": "Jalandhar",
      "addressRegion": "Punjab",
      "postalCode": "144002",
      "addressCountry": "IN"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 31.3260,
      "longitude": 75.5762
    },
    "openingHours": [
      "Mo-Sa 09:00-18:00",
      "Su 11:00-13:00"
    ],
    "priceRange": "$$",
    "areaServed": {
      "@type": "Place",
      "name": "Punjab, India"
    },
    "hasCredential": {
      "@type": "EducationalOccupationalCredential",
      "name": "NABH Accreditation",
      "description": "National Accreditation Board for Hospitals & Healthcare Providers"
    },
    "medicalSpecialty": [
      "Diagnostic Radiology",
      "Medical Imaging",
      "Obstetric Ultrasound",
      "Interventional Radiology"
    ],
    "availableService": [
      {
        "@type": "MedicalProcedure",
        "name": "MRI Scanning",
        "description": "High-field magnetic resonance imaging"
      },
      {
        "@type": "MedicalProcedure", 
        "name": "CT Scanning",
        "description": "Multi-detector computed tomography"
      },
      {
        "@type": "MedicalProcedure",
        "name": "Ultrasound Imaging",
        "description": "4D ultrasound and Doppler studies"
      },
      {
        "@type": "MedicalProcedure",
        "name": "Digital Mammography",
        "description": "Breast cancer screening and diagnosis"
      },
      {
        "@type": "MedicalProcedure",
        "name": "DEXA Bone Density",
        "description": "Osteoporosis screening and bone health assessment"
      }
    ],
    "educationalProgram": {
      "@type": "EducationalOccupationalProgram",
      "name": "Ultrasound Fellowship Program",
      "description": "Comprehensive fellowship training for radiologists and sonologists",
      "provider": {
        "@type": "Organization",
        "name": "Mann Scanning Centre"
      },
      "occupationalCategory": [
        "Radiologist",
        "Sonologist"
      ],
      "applicationDeadline": "Ongoing",
      "applicationInstructions": "Send CV and cover letter to drhsmann@gmail.com"
    }
  }
  </script>
  
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* Theme Variables */
    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #151520;
      --bg-glass: rgba(255, 255, 255, 0.08);
      --text-primary: #ffffff;
      --text-secondary: #b8b8c8;
      --accent-primary: #00d4ff;
      --accent-secondary: #ff6b6b;
      --border-color: rgba(0, 212, 255, 0.2);
      --shadow-color: rgba(0, 0, 0, 0.4);
      --glow-color: rgba(0, 212, 255, 0.6);
    }

    [data-theme="light"] {
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-glass: rgba(0, 0, 0, 0.05);
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --accent-primary: #0ea5e9;
      --accent-secondary: #ef4444;
      --border-color: rgba(14, 165, 233, 0.2);
      --shadow-color: rgba(0, 0, 0, 0.1);
      --glow-color: rgba(14, 165, 233, 0.5);
    }

    /* Enhanced Styles */
    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      transition: all 0.3s ease;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      bottom: 0;
      right: 0;
      width: 500px;
      height: 500px;
      background: url('images/mri2 - nobg.png') no-repeat;
      background-size: contain;
      background-position: bottom right;
      opacity: 0.15;
      z-index: -1;
      filter: blur(0.5px);
    }

    .theme-toggle {
      position: fixed;
      top: 120px;
      left: 20px;
      z-index: 1002;
      background: var(--bg-glass);
      backdrop-filter: blur(15px);
      border: 1px solid var(--border-color);
      border-radius: 25px;
      padding: 12px 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text-primary);
      font-size: 16px;
      box-shadow: 0 4px 20px var(--shadow-color);
    }

    .theme-toggle:hover {
      background: var(--accent-primary);
      color: var(--bg-primary);
      border-color: var(--accent-primary);
      transform: translateY(-2px);
      box-shadow: 0 6px 25px var(--glow-color);
    }

    /* Improve mobile menu visibility in light mode */
    [data-theme="light"] .theme-toggle-mobile,
    [data-theme="light"] .lmp-toggle-mobile {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(14, 165, 233, 0.3);
      color: var(--text-primary);
    }

    [data-theme="light"] .theme-toggle-mobile:hover,
    [data-theme="light"] .lmp-toggle-mobile:hover {
      background: var(--accent-primary);
      color: white;
    }

    /* Remove any unwanted outlines and focus indicators */
    *, *:before, *:after {
      outline: none !important;
      -webkit-tap-highlight-color: transparent !important;
    }
    
    /* Prevent accessibility tool highlights */
    *:focus {
      outline: none !important;
      box-shadow: none !important;
    }
    
    /* Remove browser default focus styles */
    button:focus,
    input:focus,
    a:focus,
    div:focus {
      outline: none !important;
    }

    /* Adjust theme toggle for different screen sizes */
    @media (max-width: 1200px) {
      .theme-toggle {
        top: 110px;
        left: 15px;
        font-size: 14px;
        padding: 10px 16px;
      }
    }
    
    @media (max-width: 768px) {
      .theme-toggle {
        top: 100px;
        left: 10px;
        font-size: 12px;
        padding: 8px 12px;
      }
      
      header {
        flex-direction: column;
        gap: 15px;
        padding: 15px 20px;
        position: relative;
      }
      
      nav {
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
      }
      
      nav a {
        margin: 5px;
        font-size: 14px;
      }
    }

    .theme-toggle:hover {
      background: var(--accent-primary);
      color: var(--bg-primary);
      border-color: var(--accent-primary);
      transform: translateY(-2px);
      box-shadow: 0 6px 25px var(--glow-color);
    }

    /* LMP Calculator Dropdown */
    .lmp-calculator {
      position: fixed;
      top: 80px;
      right: 20px;
      z-index: 1000;
      background: var(--bg-glass);
      backdrop-filter: blur(15px);
      border: 1px solid var(--border-color);
      border-radius: 15px;
      padding: 25px;
      min-width: 320px;
      transform: translateX(350px);
      transition: transform 0.3s ease;
      color: var(--text-primary);
    }

    .lmp-calculator.show {
      transform: translateX(0);
    }

    .lmp-toggle {
      position: fixed;
      top: 120px;
      right: 20px;
      z-index: 1001;
      background: var(--bg-glass);
      backdrop-filter: blur(15px);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      border-radius: 15px;
      padding: 12px 16px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px var(--shadow-color);
    }

    .lmp-toggle:hover {
      background: var(--accent-primary);
      color: var(--bg-primary);
      border-color: var(--accent-primary);
      box-shadow: 0 6px 25px var(--glow-color);
    }

    .lmp-input {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--bg-secondary);
      color: var(--text-primary);
      margin: 10px 0;
      font-size: 14px;
    }

    .lmp-result {
      margin-top: 15px;
      padding: 15px;
      background: var(--accent-primary);
      color: var(--bg-primary);
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
      font-size: 1rem;
    }

    /* Enhanced Header */
    header {
      background: var(--bg-glass);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border-color);
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
    }

    /* Improve header visibility in light mode */
    [data-theme="light"] header {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(14, 165, 233, 0.15);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-container img {
      height: 70px;
      filter: drop-shadow(0 0 15px var(--accent-primary));
    }

    .logo-container h1 {
      color: var(--accent-primary);
      font-size: 2.2rem;
      margin: 0;
      font-weight: 600;
    }

    nav a {
      color: var(--text-primary);
      margin-left: 30px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 16px;
    }

    nav a:hover, nav a.active {
      background: var(--bg-glass);
      color: var(--accent-primary);
      box-shadow: 0 0 15px var(--accent-primary);
    }

    /* Hero Section with Floating Cards */
    .hero-section {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      padding: 80px 20px 40px;
    }

    .floating-container {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .hero-content {
      text-align: center;
      z-index: 10;
      background: var(--bg-glass);
      backdrop-filter: blur(20px);
      padding: 60px 40px;
      border-radius: 30px;
      border: 2px solid var(--border-color);
      margin: 40px auto;
      max-width: 900px;
      position: relative;
      box-shadow: 0 25px 70px var(--shadow-color);
    }

    .hero-content h2 {
      font-size: 4rem;
      margin-bottom: 25px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.2;
      font-weight: 700;
    }

    .hero-content p {
      font-size: 1.5rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Floating Cards Canvas */
    #medicalVisualization {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    /* Center logo in animation */
    .center-logo {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 5;
      opacity: 0.7;
      max-width: 150px;
      max-height: 150px;
      pointer-events: none;
      filter: drop-shadow(0 0 20px var(--glow-color));
      transition: opacity 0.3s ease;
    }
    
    @media (max-width: 768px) {
      .center-logo {
        max-width: 100px;
        max-height: 100px;
        opacity: 0.6;
      }
    }
    
    [data-theme="light"] .center-logo {
      opacity: 0.8;
      filter: drop-shadow(0 0 15px var(--glow-color));
    }

    /* Machine Info Panel */
    .machine-info {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100%);
      width: 90%;
      max-width: 800px;
      background: var(--bg-glass);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 30px;
      transition: transform 0.3s ease;
      z-index: 100;
      box-shadow: 0 15px 40px var(--shadow-color);
    }

    .machine-info.show {
      transform: translateX(-50%) translateY(0);
    }

    .machine-info h3 {
      color: var(--accent-primary);
      margin-bottom: 15px;
      font-size: 2rem;
    }

    .machine-info p {
      color: var(--text-secondary);
      margin-bottom: 12px;
      font-size: 1.2rem;
      line-height: 1.5;
    }

    /* Enhanced Cards - Improved symmetry and consistency */
    .services-preview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
      padding: 60px 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .service-card {
      background: var(--bg-glass);
      border-radius: 20px;
      padding: 30px;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 300px;
    }

    .service-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 50px var(--shadow-color);
      border-color: var(--accent-primary);
    }

    .service-card img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid var(--accent-primary);
      flex-shrink: 0;
    }

    .service-card h3 {
      color: var(--accent-primary);
      margin-bottom: 15px;
      font-size: 1.4rem;
      line-height: 1.3;
      text-align: center;
    }

    .service-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
      text-align: center;
      flex-grow: 1;
      display: flex;
      align-items: center;
    }

    /* Image optimization and lazy loading */
    img {
      max-width: 100%;
      height: auto;
      loading: lazy;
    }

    /* Optimize logo images */
    .logo-container img {
      height: 70px;
      filter: drop-shadow(0 0 15px var(--accent-primary));
      will-change: filter;
    }

    .service-card img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid var(--accent-primary);
      flex-shrink: 0;
      will-change: transform;
    }

    /* Performance optimizations */
    * {
      box-sizing: border-box;
    }

    body {
      font-display: swap;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Reduce motion for accessibility and performance */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 50px 30px;
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-color);
      color: var(--text-secondary);
      font-size: 1.1rem;
      line-height: 1.6;
    }

    /* NABH Accreditation Logo */
    .nabh-logo {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 1000;
      width: 100px;
      height: 100px;
      background: var(--bg-glass);
      backdrop-filter: blur(15px);
      border: 2px solid var(--border-color);
      border-radius: 50%;
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px var(--shadow-color);
      cursor: pointer;
    }

    .nabh-logo:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 30px var(--shadow-color), 0 0 20px var(--glow-color);
      border-color: var(--text-accent);
    }

    .nabh-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 0 8px var(--glow-color));
    }

    .nabh-tooltip {
      position: absolute;
      bottom: 110px;
      right: 0;
      background: var(--bg-glass);
      backdrop-filter: blur(15px);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      padding: 12px 18px;
      color: var(--text-primary);
      font-size: 0.9rem;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px var(--shadow-color);
    }

    .nabh-logo:hover .nabh-tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero-content h2 {
        font-size: 2.5rem;
      }
      
      .hero-content p {
        font-size: 1.3rem;
      }

      .hero-content {
        padding: 40px 30px;
      }

      .services-preview {
        grid-template-columns: 1fr;
        padding: 30px 20px;
      }

      .lmp-calculator {
        right: 10px;
        left: 10px;
        min-width: auto;
        transform: translateY(100px);
      }

      .lmp-calculator.show {
        transform: translateY(0);
      }

      nav {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      nav a {
        margin: 0;
        font-size: 14px;
        padding: 8px 14px;
      }

      .logo-container h1 {
        font-size: 1.8rem;
      }

      .logo-container img {
        height: 60px;
      }

      .nabh-logo {
        width: 80px;
        height: 80px;
        bottom: 20px;
        right: 20px;
      }
      
      .nabh-tooltip {
        bottom: 90px;
        font-size: 0.85rem;
      }

      .machine-info {
        left: 15px;
        right: 15px;
        transform: translateY(100%);
        width: auto;
        max-width: none;
      }

      .machine-info.show {
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo-container">
      <img src="images/glass 3d logo mannscan no bg.png" alt="Mann Scan 3D Logo" />
      <h1>Mann Scanning Centre</h1>
    </div>
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">☰</button>
    <nav id="mobileNav">
      <a href="index.html" class="active">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="fellowship.html">Fellowship</a>
      <a href="contact.html">Contact</a>
      <a href="https://viewer.ohif.org/" target="_blank">View DICOMs</a>
      <button class="theme-toggle-mobile" onclick="toggleTheme()">🌓 <span id="themeText">Dark</span></button>
      <button class="lmp-toggle-mobile" onclick="openLMPModal()">📅 LMP Calculator</button>
    </nav>
  </header>

  <!-- LMP Calculator Modal -->
  <div class="lmp-modal" id="lmpModal" style="display:none;">
    <div class="lmp-modal-content">
      <span class="lmp-modal-close" onclick="closeLMPModal()">&times;</span>
      <h4 style="margin-top: 0; color: var(--accent-primary); font-size: 1.2rem;">🤰 Gestational Age Calculator</h4>
      <label for="lmpDate" style="font-size: 1rem;">Last Menstrual Period (LMP):</label>
      <input type="date" id="lmpDate" class="lmp-input" onchange="calculateGestation()">
      <div id="lmpResult" style="display: none;" class="lmp-result"></div>
    </div>
  </div>


  <script>
    // LMP Modal Functions
    function openLMPModal() {
      document.getElementById('lmpModal').style.display = 'block';
    }
    function closeLMPModal() {
      document.getElementById('lmpModal').style.display = 'none';
    }
    // Close modal on outside click
    window.onclick = function(event) {
      const modal = document.getElementById('lmpModal');
      if (event.target === modal) {
        closeLMPModal();
      }
    }
  </script>

  <!-- Hero Section with Floating Cards -->
  <section class="hero-section">
    <div class="floating-container">
      <canvas id="medicalVisualization"></canvas>
      <!-- Center logo in animation -->
      <img src="images/glass 3d logo mannscan no bg.png" alt="Mann Scanning Centre Logo" class="center-logo" />
    </div>
    
    <div class="hero-content">
      <h2>Advanced Medical Imaging</h2>
      <p>Experience state-of-the-art diagnostic technology at Mann Scanning Centre. Our NABH-accredited facility in Jalandhar provides comprehensive imaging services including MRI, CT, Ultrasound, and specialized procedures with precision, comfort, and expert care for your health needs.</p>
    </div>

    <!-- Interactive Machine Info Panel -->
    <div class="machine-info" id="machineInfo">
      <h3 id="machineName">Hover over any medical equipment</h3>
      <p id="machineDescription">Discover our advanced diagnostic technology</p>
      <p id="machineSpecs"></p>
      <p id="machineApplications"></p>
    </div>
  </section>

  <!-- Services Preview -->
  <section class="services-preview">
    <div class="service-card">
      <img src="images/mri - nobg.png" alt="MRI Scanner" />
      <h3>Magnetic Resonance Imaging (MRI)</h3>
      <p>Advanced high-field MRI systems providing exceptional soft tissue imaging without radiation. Ideal for neurological disorders, musculoskeletal injuries, and comprehensive whole-body screening with sub-millimeter resolution.</p>
    </div>
    
    <div class="service-card">
      <img src="images/ct - nobg.png" alt="CT Scanner" />
      <h3>Computed Tomography (CT)</h3>
      <p>Multi-detector CT scanners delivering rapid, precise cross-sectional imaging. Essential for emergency trauma, stroke evaluation, pulmonary embolism detection, and comprehensive cancer staging with advanced dose reduction technology.</p>
    </div>
    
    <div class="service-card">
      <img src="images/voluson - nobg.png" alt="4D Ultrasound" />
      <h3>4D Ultrasound & Obstetric Imaging</h3>
      <p>GE Voluson E10 premium ultrasound with AI-enhanced imaging. Specialized in high-risk pregnancy monitoring, fetal anomaly screening, and real-time 4D visualization for comprehensive maternal-fetal care.</p>
    </div>
    
    <div class="service-card">
      <img src="images/mammography - nobg.png" alt="Digital Mammography" />
      <h3>Digital Mammography & Breast Imaging</h3>
      <p>State-of-the-art digital mammography with tomosynthesis capabilities. Specialized breast cancer screening with 70μm resolution, auto-optimized compression, and advanced detection algorithms for early diagnosis.</p>
    </div>
    
    <div class="service-card">
      <img src="images/dexa - nobg.png" alt="DEXA Bone Density" />
      <h3>DEXA Bone Density Scanning</h3>
      <p>Precise osteoporosis screening and bone health assessment following WHO guidelines. Advanced dual-energy X-ray absorptiometry for fracture risk evaluation and metabolic bone disease monitoring.</p>
    </div>
    
    <div class="service-card">
      <img src="images/fibrotouch.jpg" alt="Fibrotouch Liver Scanner" />
      <h3>Fibrotouch Liver Elastography</h3>
      <p>Non-invasive liver fibrosis assessment using advanced elastography technology. Instant results for fatty liver evaluation, hepatitis monitoring, and chronic liver disease management without biopsy.</p>
    </div>

    <div class="service-card">
      <img src="images/ultrasound and womb_nobg.png" alt="Foetal Echo" />
      <h3>Specialized Fetal Echocardiography</h3>
      <p>Advanced fetal heart assessment using specialized high-frequency probes. Expert evaluation of congenital heart defects, cardiac development monitoring, and comprehensive fetal cardiac screening for high-risk pregnancies.</p>
    </div>

    <div class="service-card">
      <img src="images/ct - nobg.png" alt="Digital X-Ray" />
      <h3>Digital X-Ray Imaging</h3>
      <p>Instant high-quality digital radiography with low radiation exposure. Comprehensive imaging for chest conditions, bone fractures, joint assessment, and emergency diagnostics with immediate PACS integration.</p>
    </div>
  </section>

  <!-- Fellowship Program Section -->
  <section class="fellowship-section" style="background: var(--bg-glass); backdrop-filter: blur(12px); border-radius: 30px; border: 1px solid var(--border-color); margin: 60px auto 0 auto; max-width: 1100px; padding: 50px 30px 40px 30px; box-shadow: 0 8px 40px var(--shadow-color);">
    <h2 style="color: var(--accent-primary); font-size: 2.8rem; margin-bottom: 18px; text-align: center; font-weight: 700;">Ultrasound Fellowship Program</h2>
    <p style="font-size: 1.4rem; color: var(--text-secondary); text-align: center; max-width: 850px; margin: 0 auto 40px auto; line-height: 1.6;">A premier, hands-on fellowship for <b>Radiologists</b> and <b>Sonologists</b> to achieve advanced expertise in diagnostic ultrasound. Train with leading experts on state-of-the-art equipment and become a leader in your field.</p>
    <div style="display: flex; flex-wrap: wrap; gap: 40px; justify-content: center; margin-bottom: 40px;">
      <div style="flex: 1 1 350px; min-width: 320px; background: var(--bg-secondary); border-radius: 18px; border: 1px solid var(--border-color); padding: 30px 24px; box-shadow: 0 4px 20px var(--shadow-color);">
        <h3 style="color: var(--accent-primary); font-size: 1.8rem; margin-bottom: 15px;">For Radiologists (MD/DNB/DMRD)</h3>
        <ul style="font-size: 1.1rem; color: var(--text-secondary); line-height: 1.8; margin-bottom: 0; padding-left: 20px;">
          <li><b>Advanced Foetal Ultrasound:</b> Comprehensive training in anomaly scans (TIFFA), growth monitoring, advanced Doppler studies, NT/NB scans, and early pregnancy assessment.</li>
          <li><b>Foetal Echocardiography:</b> In-depth evaluation of the fetal heart, including advanced 2D/3D/4D echo techniques and diagnosis of congenital heart defects.</li>
          <li><b>Specialized Modules:</b> Neurosonography, musculoskeletal (MSK) ultrasound, and advanced 3D/4D imaging techniques.</li>
          <li><b>Clinical Practice:</b> Hands-on training with a high volume of diverse cases, extensive case discussions, and independent reporting under supervision.</li>
        </ul>
      </div>
      <div style="flex: 1 1 350px; min-width: 320px; background: var(--bg-secondary); border-radius: 18px; border: 1px solid var(--border-color); padding: 30px 24px; box-shadow: 0 4px 20px var(--shadow-color);">
        <h3 style="color: var(--accent-primary); font-size: 1.8rem; margin-bottom: 15px;">For Sonologists (MBBS)</h3>
        <ul style="font-size: 1.1rem; color: var(--text-secondary); line-height: 1.8; margin-bottom: 0; padding-left: 20px;">
          <li><b>Comprehensive General Ultrasound:</b> Extensive training covering abdomen, pelvis, small parts (thyroid, breast), and advanced Doppler imaging.</li>
          <li><b>Foetal Ultrasound Fundamentals:</b> Strong foundation in basic fetal biometry, anomaly screening, and monitoring fetal well-being.</li>
          <li><b>Practical Skills:</b> Emphasis on hands-on scanning techniques, patient communication, ethical considerations, and protocol optimization.</li>
          <li><b>Mentorship:</b> Direct guidance and continuous feedback from experienced senior radiologists in a supportive learning environment.</li>
        </ul>
      </div>
    </div>
    <div style="margin: 0 auto 40px auto; max-width: 950px; background: var(--bg-secondary); border-radius: 18px; padding: 30px; border: 1px solid var(--border-color);">
      <h4 style="color: var(--accent-primary); font-size: 1.5rem; margin-bottom: 15px; text-align: center;">Program Highlights & Curriculum</h4>
      <ul style="font-size: 1.1rem; color: var(--text-secondary); line-height: 1.8; margin-bottom: 0; padding-left: 20px;">
        <li><b>State-of-the-Art Equipment:</b> Hands-on training on premium systems like the GE Voluson E10, equipped with the latest AI and 4D imaging technologies.</li>
        <li><b>Structured Learning:</b> A balanced curriculum of didactic lectures, live case demonstrations, and extensive, supervised hands-on scanning sessions.</li>
        <li><b>Clinical Exposure:</b> Exposure to a wide spectrum of clinical cases, from routine screenings to complex pathologies, ensuring comprehensive real-world experience.</li>
        <li><b>Expert Faculty:</b> Direct mentorship from nationally recognized radiologists with decades of experience in diagnostic and fetal imaging.</li>
        <li><b>Professional Development:</b> Training in report generation, ethical practices, research methodology, and continuous professional assessment with regular feedback.</li>
      </ul>
    </div>
    <div style="display: flex; flex-wrap: wrap; gap: 30px; justify-content: center; margin-bottom: 30px;">
      <div style="flex: 1 1 280px; min-width: 250px; background: var(--bg-secondary); border-radius: 14px; border: 1px solid var(--border-color); padding: 20px; box-shadow: 0 2px 12px var(--shadow-color); text-align: center;">
        <h4 style="color: var(--accent-primary); font-size: 1.2rem; margin-bottom: 10px;">Eligibility</h4>
        <p style="font-size: 1rem; color: var(--text-secondary); line-height: 1.6; margin: 0;"><b>Radiologists:</b> MD/DNB/DMRD or equivalent qualification.<br><b>Sonologists:</b> MBBS with a recognized ultrasound certification or equivalent experience.</p>
      </div>
      <div style="flex: 1 1 280px; min-width: 250px; background: var(--bg-secondary); border-radius: 14px; border: 1px solid var(--border-color); padding: 20px; box-shadow: 0 2px 12px var(--shadow-color); text-align: center;">
        <h4 style="color: var(--accent-primary); font-size: 1.2rem; margin-bottom: 10px;">Duration & Certification</h4>
        <p style="font-size: 1rem; color: var(--text-secondary); line-height: 1.6; margin: 0;">Flexible duration from <b>6 to 12 months</b>, tailored to the specific track. A certificate of completion from Mann Scanning Centre is awarded upon successful program completion.</p>
      </div>
    </div>
    <div style="text-align: center; margin-top: 25px; background: var(--bg-glass); padding: 30px; border-radius: 15px; border: 2px solid var(--accent-primary);">
      <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-bottom: 15px;">Apply for Fellowship Program</h3>
      <p style="font-size: 1.2rem; color: var(--text-primary); margin-bottom: 12px; font-weight: 500;">Ready to advance your career? Limited seats available for 2025-2026.</p>
      <p style="font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 20px;">Submit your details through our dedicated fellowship application page.</p>

      <a href="fellowship.html" style="display: inline-block; background: var(--accent-primary); color: var(--bg-primary); padding: 15px 25px; border-radius: 10px; font-weight: 600; text-decoration: none;">Apply Online</a>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 10px;">
          <h4 style="color: var(--accent-primary); margin-bottom: 10px;">📄 Required Documents</h4>
          <ul style="text-align: left; font-size: 1rem; color: var(--text-secondary); margin: 0; padding-left: 20px;">
            <li>Updated CV/Resume</li>
            <li>Cover letter stating objectives</li>
            <li>Academic transcripts</li>
            <li>Letters of recommendation (2-3)</li>
            <li>Medical license copy</li>
          </ul>
        </div>
        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 10px;">
          <h4 style="color: var(--accent-primary); margin-bottom: 10px;">🎯 Application Process</h4>
          <ol style="text-align: left; font-size: 1rem; color: var(--text-secondary); margin: 0; padding-left: 20px;">
              <li>Submit complete application via fellowship page</li>
            <li>Initial document review (1-2 weeks)</li>
            <li>Virtual/in-person interview</li>
            <li>Reference verification</li>
            <li>Final selection and notification</li>
          </ol>
        </div>
      </div>
      
      <p style="font-size: 1rem; color: var(--text-secondary); margin-top: 20px; font-style: italic;">
        Applications are reviewed on a rolling basis. Early application is recommended as seats are limited.<br>
        <strong>Website:</strong> mannscan.in | <strong>Phone:</strong> +91-181-4695500
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; text-align: left; padding: 40px 20px;">
      <div>
        <h4 style="color: var(--accent-primary); margin-bottom: 15px; font-size: 1.4rem;">Mann Scanning Centre</h4>
        <p style="margin-bottom: 10px;"><strong>Address:</strong> 201 Gujral Nagar, Jalandhar, Punjab - 144002</p>
        <p style="margin-bottom: 10px;"><strong>Phone:</strong> 01814695500</p>
        <p style="margin-bottom: 10px;"><strong>Hours:</strong> Mon-Sat: 9:00 AM - 6:00 PM</p>
        <p style="margin-bottom: 10px;"><strong>Email:</strong> drhsmann@gmail.com</p>
      </div>
      <div>
        <h4 style="color: var(--accent-primary); margin-bottom: 15px; font-size: 1.4rem;">Our Services</h4>
        <p style="margin-bottom: 8px;">• MRI Scanning (High-Field Systems)</p>
        <p style="margin-bottom: 8px;">• CT Scanning (Multi-Detector)</p>
        <p style="margin-bottom: 8px;">• 4D Ultrasound & Obstetric Care</p>
        <p style="margin-bottom: 8px;">• Digital Mammography & Breast Imaging</p>
        <p style="margin-bottom: 8px;">• DEXA Bone Density Scanning</p>
        <p style="margin-bottom: 8px;">• Fibrotouch Liver Elastography</p>
        <p style="margin-bottom: 8px;">• Fetal Echocardiography</p>
        <p style="margin-bottom: 8px;">• Digital X-Ray Imaging</p>
      </div>
      <div>
        <h4 style="color: var(--accent-primary); margin-bottom: 15px; font-size: 1.4rem;">Quality Assurance</h4>
        <p style="margin-bottom: 10px;">🏆 <strong>NABH Accredited</strong> Healthcare Facility</p>
        <p style="margin-bottom: 10px;">⚡ Advanced diagnostic technology</p>
        <p style="margin-bottom: 10px;">👨‍⚕️ Experienced radiologists & technicians</p>
        <p style="margin-bottom: 10px;">📋 Accurate & timely reporting</p>
        <p style="margin-bottom: 10px;">🏠 Home sample collection available</p>
      </div>
    </div>
    <div style="text-align: center; border-top: 1px solid var(--border-color); padding-top: 30px; margin-top: 30px;">
      <p>© 2025 Mann Scanning Centre — Your Trusted Diagnostic Partner in Jalandhar</p>
      <p style="margin-top: 10px; color: var(--accent-primary);">Precision • Care • Excellence • Trust</p>
    </div>
  </footer>

  <!-- NABH Accreditation Logo -->
  <div class="nabh-logo" onclick="window.open('https://www.nabh.co/', '_blank')">
    <img src="images/nabh_nobg.png" alt="NABH Logo" />
    <div class="nabh-tooltip">NABH Accredited<br>Click for details</div>
  </div>

  <script>
    // Enhanced Medical Equipment Data
    const medicalEquipment = [
      {
        name: 'MRI Scanner',
        image: 'images/mri - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 160,
        color: '#00d4ff',
        description: 'Magnetic Resonance Imaging - High-Field System',
        specifications: 'High Resolution | No Radiation | Multiple Sequences Available',
        applications: 'Brain/Spine imaging, Joint evaluation, Whole-body screening',
      },
      {
        name: 'CT Scanner',
        image: 'images/ct - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 155,
        color: '#ff6b6b',
        description: 'Multi-Detector Computed Tomography',
        specifications: 'Fast Imaging | High Resolution | Low Dose Technology',
        applications: 'Emergency trauma, Chest/Abdomen CT, CT Angiography',
      },
      {
        name: 'Ultrasound',
        image: 'images/voluson - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 150,
        color: '#4ecdc4',
        description: 'Premium 4D Ultrasound System',
        specifications: '4D Imaging | AI-Enhanced | Real-time Processing',
        applications: 'Obstetric imaging, Fetal screening, Organ assessment',
      },
      {
        name: 'DEXA Scanner',
        image: 'images/dexa - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 145,
        color: '#45b7d1',
        description: 'Bone Density Measurement',
        specifications: 'Precision Scanning | Low Radiation | WHO Guidelines',
        applications: 'Osteoporosis screening, Fracture risk assessment',
      },
      {
        name: 'Mammography',
        image: 'images/mammography - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 148,
        color: '#f39c12',
        description: 'Digital Mammography with Tomosynthesis',
        specifications: 'High Resolution | Auto-optimized | Low Dose',
        applications: 'Breast cancer screening, Diagnostic imaging',
      },
      {
        name: 'Fibrotouch',
        image: 'images/fibrotouch.jpg',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 140,
        color: '#e74c3c',
        description: 'Liver Elastography - Non-invasive Assessment',
        specifications: 'Instant Results | Painless | CAP Technology',
        applications: 'Liver fibrosis, Fatty liver evaluation',
      },
      {
        name: 'Fetal Echo',
        image: 'images/ultrasound and womb_nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 145,
        color: '#9b59b6',
        description: 'Specialized Fetal Echocardiography',
        specifications: 'High-frequency probes | Expert evaluation',
        applications: 'Congenital heart defects, Cardiac development',
      },
      {
        name: 'Digital X-Ray',
        image: 'images/ct - nobg.png',
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        size: 135,
        color: '#2ecc71',
        description: 'Digital X-Ray Imaging',
        specifications: 'Instant results | Low radiation | PACS integration',
        applications: 'Chest conditions, Bone fractures, Emergency diagnostics',
      }
    ];

    class MedicalVisualization {
      constructor() {
        this.canvas = document.getElementById('medicalVisualization');
        this.ctx = this.canvas.getContext('2d');
        this.machineInfo = document.getElementById('machineInfo');
        
        this.centerX = 0;
        this.centerY = 0;
        this.time = 0;
        this.hoveredMachine = null;
        this.mouseX = 0;
        this.mouseY = 0;
        this.particles = [];
        
        this.init();
      }
      
      init() {
        this.setupCanvas();
        this.loadImages();
        this.setupEventListeners();
        this.initializePositions();
        this.createParticles();
        this.animate();
      }
      
      setupCanvas() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
        this.centerX = this.canvas.width / 2;
        this.centerY = this.canvas.height / 2;
      }
      
      async loadImages() {
        const promises = medicalEquipment.map(machine => {
          return new Promise(resolve => {
            machine.imageObj = new Image();
            machine.imageObj.onload = () => resolve();
            machine.imageObj.onerror = () => resolve();
            machine.imageObj.src = machine.image;
          });
        });
        await Promise.all(promises);
      }
      
      initializePositions() {
        const radius = Math.min(this.canvas.width, this.canvas.height) * 0.3;
        medicalEquipment.forEach((machine, index) => {
          const angle = (index / medicalEquipment.length) * Math.PI * 2;
          machine.x = this.centerX + Math.cos(angle) * radius;
          machine.y = this.centerY + Math.sin(angle) * radius;
          machine.vx = (Math.random() - 0.5) * 0.5;
          machine.vy = (Math.random() - 0.5) * 0.5;
          machine.targetX = machine.x;
          machine.targetY = machine.y;
        });
      }
      
      createParticles() {
        for (let i = 0; i < 50; i++) {
          this.particles.push({
            x: Math.random() * this.canvas.width,
            y: Math.random() * this.canvas.height,
            size: Math.random() * 3 + 1,
            vx: (Math.random() - 0.5) * 0.5,
            vy: (Math.random() - 0.5) * 0.5,
            opacity: Math.random() * 0.5 + 0.2
          });
        }
      }
      
      setupEventListeners() {
        window.addEventListener('resize', () => this.setupCanvas());
        this.canvas.addEventListener('mousemove', e => this.handleMouseMove(e));
        this.canvas.addEventListener('click', e => this.handleClick(e));
        
        this.canvas.style.pointerEvents = 'auto';
      }
      
      handleMouseMove(e) {
        const rect = this.canvas.getBoundingClientRect();
        this.mouseX = e.clientX - rect.left;
        this.mouseY = e.clientY - rect.top;
        
        this.hoveredMachine = null;
        for (let machine of medicalEquipment) {
          const distance = Math.sqrt((this.mouseX - machine.x) ** 2 + (this.mouseY - machine.y) ** 2);
          
          if (distance < machine.size / 2 + 20) {
            this.hoveredMachine = machine;
            this.showMachineInfo(machine);
            break;
          }
        }
        
        if (!this.hoveredMachine) {
          this.hideMachineInfo();
        }
      }
      
      handleClick(e) {
        if (this.hoveredMachine) {
          window.location.href = 'services.html';
        }
      }
      
      showMachineInfo(machine) {
        document.getElementById('machineName').textContent = machine.name;
        document.getElementById('machineDescription').textContent = machine.description;
        document.getElementById('machineSpecs').textContent = machine.specifications;
        document.getElementById('machineApplications').textContent = `Applications: ${machine.applications}`;
        this.machineInfo.classList.add('show');
      }
      
      hideMachineInfo() {
        this.machineInfo.classList.remove('show');
      }
      
      animate() {
        this.time += 0.016;
        this.update();
        this.render();
        requestAnimationFrame(() => this.animate());
      }
      
      update() {
        // Update floating motion
        medicalEquipment.forEach((machine, index) => {
          // Gentle floating motion
          machine.vx += (Math.random() - 0.5) * 0.01;
          machine.vy += (Math.random() - 0.5) * 0.01;
          
          // Damping
          machine.vx *= 0.98;
          machine.vy *= 0.98;
          
          // Update position
          machine.x += machine.vx;
          machine.y += machine.vy;
          
          // Boundary constraints
          const margin = machine.size;
          if (machine.x < margin || machine.x > this.canvas.width - margin) machine.vx *= -1;
          if (machine.y < margin || machine.y > this.canvas.height - margin) machine.vy *= -1;
          
          // Keep within bounds
          machine.x = Math.max(margin, Math.min(this.canvas.width - margin, machine.x));
          machine.y = Math.max(margin, Math.min(this.canvas.height - margin, machine.y));
        });
        
        // Update particles
        this.particles.forEach(particle => {
          particle.x += particle.vx;
          particle.y += particle.vy;
          
          if (particle.x < 0 || particle.x > this.canvas.width) particle.vx *= -1;
          if (particle.y < 0 || particle.y > this.canvas.height) particle.vy *= -1;
        });
      }
      
      render() {
        // Clear canvas with transparent background for light mode compatibility
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        // Optional subtle background effect that works in both themes
        const currentTheme = document.documentElement.getAttribute('data-theme');
        if (currentTheme === 'dark') {
          const gradient = this.ctx.createRadialGradient(
            this.centerX, this.centerY, 0,
            this.centerX, this.centerY, Math.max(this.canvas.width, this.canvas.height)
          );
          gradient.addColorStop(0, 'rgba(0, 212, 255, 0.01)');
          gradient.addColorStop(1, 'rgba(0, 0, 0, 0.05)');
          this.ctx.fillStyle = gradient;
          this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        }
        
        // Draw connecting lines with theme-aware colors
        const lineColor = currentTheme === 'dark' ? 'rgba(0, 212, 255, 0.1)' : 'rgba(14, 165, 233, 0.08)';
        this.ctx.strokeStyle = lineColor;
        this.ctx.lineWidth = 1;
        for (let i = 0; i < medicalEquipment.length; i++) {
          for (let j = i + 1; j < medicalEquipment.length; j++) {
            const dist = Math.sqrt(
              (medicalEquipment[i].x - medicalEquipment[j].x) ** 2 +
              (medicalEquipment[i].y - medicalEquipment[j].y) ** 2
            );
            if (dist < 300) {
              this.ctx.beginPath();
              this.ctx.moveTo(medicalEquipment[i].x, medicalEquipment[i].y);
              this.ctx.lineTo(medicalEquipment[j].x, medicalEquipment[j].y);
              this.ctx.stroke();
            }
          }
        }
        
        // Draw particles with theme-aware colors
        const particleColor = currentTheme === 'dark' ? '#00d4ff' : '#0ea5e9';
        this.particles.forEach(particle => {
          this.ctx.save();
          this.ctx.globalAlpha = particle.opacity;
          this.ctx.fillStyle = particleColor;
          this.ctx.beginPath();
          this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
          this.ctx.fill();
          this.ctx.restore();
        });
        
        // Draw machines
        medicalEquipment.forEach(machine => {
          this.ctx.save();
          
          const isHovered = this.hoveredMachine === machine;
          const pulseEffect = 1 + Math.sin(this.time * 2 + machine.x * 0.01) * 0.05;
          const hoverEffect = isHovered ? 1.2 : 1;
          const size = machine.size * pulseEffect * hoverEffect;
          
          // Glow effect
          this.ctx.shadowColor = machine.color;
          this.ctx.shadowBlur = isHovered ? 30 : 15;
          
          if (machine.imageObj && machine.imageObj.complete) {
            const img = machine.imageObj;
            const aspectRatio = img.naturalWidth / img.naturalHeight;
            let drawWidth = size;
            let drawHeight = size;
            
            if (aspectRatio > 1) {
              drawHeight = size / aspectRatio;
            } else {
              drawWidth = size * aspectRatio;
            }
            
            this.ctx.drawImage(img, machine.x - drawWidth/2, machine.y - drawHeight/2, drawWidth, drawHeight);
          } else {
            // Fallback circle
            const gradient = this.ctx.createRadialGradient(
              machine.x, machine.y, 0,
              machine.x, machine.y, size/2
            );
            gradient.addColorStop(0, machine.color);
            gradient.addColorStop(1, `${machine.color}40`);
            this.ctx.beginPath();
            this.ctx.fillStyle = gradient;
            this.ctx.arc(machine.x, machine.y, size/2, 0, Math.PI * 2);
            this.ctx.fill();
          }
          
          this.ctx.restore();
          
          // Draw label
          if (isHovered) {
            this.ctx.save();
            const labelY = machine.y + size/2 + 25;
            this.ctx.font = 'bold 16px "Segoe UI", sans-serif';
            this.ctx.textAlign = 'center';
            this.ctx.fillStyle = machine.color;
            this.ctx.shadowColor = machine.color;
            this.ctx.shadowBlur = 10;
            this.ctx.fillText(machine.name, machine.x, labelY);
            this.ctx.restore();
          }
        });
      }
    }

    // Theme Toggle Function
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      html.setAttribute('data-theme', newTheme);
      document.getElementById('themeText').textContent = newTheme === 'dark' ? 'Light' : 'Dark';
      
      localStorage.setItem('theme', newTheme);
    }

    // Mobile Menu Toggle Function
    function toggleMobileMenu() {
      const nav = document.getElementById('mobileNav');
      nav.classList.toggle('show');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const nav = document.getElementById('mobileNav');
      const toggle = document.querySelector('.mobile-menu-toggle');
      
      if (!nav.contains(event.target) && !toggle.contains(event.target)) {
        nav.classList.remove('show');
      }
    });

    // LMP Calculator Functions are now loaded from js/lmp.js

    // Initialize theme from localStorage
    window.addEventListener('load', () => {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', savedTheme);
      document.getElementById('themeText').textContent = savedTheme === 'dark' ? 'Light' : 'Dark';
      
      // Initialize the medical visualization
      new MedicalVisualization();
    });
  </script>
  <script src="js/lmp.js"></script>

  <!-- NABH Accreditation Logo -->
  <div class="nabh-logo" title="NABH Accredited Healthcare Facility">
    <img src="images/nabh_nobg.png" alt="NABH Accredited" />
    <div class="nabh-tooltip">
      NABH Accredited<br>Quality Healthcare
    </div>
  </div>
</body>
</html>
